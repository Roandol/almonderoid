import{R as t,S as s,i as e,s as a,K as i,L as r,a as h,d as o,b as l,g as n,G as c,E as d,T as u,Q as f,e as y,t as g,k as p,c as v,h as m,m as x,N as w,U as E,p as b,q as k,o as M,j as S,V as I,w as K,x as A,y as P,B as R,n as C,W as H}from"../chunks/index-60d8f3df.js";import{k as B,i as L,h as $,l as D,a as V,s as G}from"../chunks/index-5da914bf.js";import"../chunks/index-1873ca51.js";function O(t){const s=t-1;return s*s*s+1}function X(s,{delay:e=0,duration:a=400,easing:i=t}={}){const r=+getComputedStyle(s).opacity;return{delay:e,duration:a,easing:i,css:t=>"opacity: "+t*r}}function Y(t,{delay:s=0,duration:e=400,easing:a=O,x:i=0,y:r=0,opacity:h=0}={}){const o=getComputedStyle(t),l=+o.opacity,n="none"===o.transform?"":o.transform,c=l*(1-h);return{delay:s,duration:e,easing:a,css:(t,s)=>`\n\t\t\ttransform: ${n} translate(${(1-t)*i}px, ${(1-t)*r}px);\n\t\t\topacity: ${l-c*s}`}}function T(t){let s,e,a,f;return{c(){s=i("svg"),e=i("path"),this.h()},l(t){s=r(t,"svg",{class:!0,xmlns:!0,"xml:space":!0,viewBox:!0});var a=h(s);e=r(a,"path",{d:!0}),h(e).forEach(o),a.forEach(o),this.h()},h(){l(e,"d","M204.5 21.4a72 72 0 0 0-120.8 67L2.2 169.9a7.5 7.5 0 1 0 10.6 10.6L61.2 132l14.7 6.5-27.7 27.7A7.5 7.5 0 1 0 58.8 177l27.9-28 6.6 14.6-48.7 48.7A7.5 7.5 0 1 0 55.2 223l81.1-81a72.3 72.3 0 0 0 68.2-19 72 72 0 0 0 0-101.5zm-99.9 131L99.1 140a27.6 27.6 0 0 0-14-13.9l-12.5-5.5L89.3 104a71.5 71.5 0 0 0 31.6 32l-16.3 16.3zm80.3-49a43.9 43.9 0 0 1-62.5 0 44.2 44.2 0 1 1 62.5 0zm-10.6-51.9a29.2 29.2 0 1 1-41.4 41.3 29.2 29.2 0 0 1 41.4-41.3z"),l(s,"class","h-8 w-8 fill-secondary"),l(s,"xmlns","http://www.w3.org/2000/svg"),l(s,"xml:space","preserve"),l(s,"viewBox","0 0 225.5 225.5")},m(t,a){n(t,s,a),c(s,e),f=!0},p:d,i(t){f||(a&&a.end(1),f=!0)},o(t){a=u(s,Y,{y:-20,opacity:0,duration:700}),f=!1},d(t){t&&o(s),t&&a&&a.end()}}}class j extends s{constructor(t){super(),e(this,t,null,T,a,{})}}function z(t,s,e,a,i,r){const h=t-a,o=s-i;return e+r>Math.sqrt(h*h+o*o)}const N=[];let F=[];const U=t=>{N[t.key]=!0},q=t=>{N[t.key]=!1," "!==t.key&&t.key!==f(B).shootKey||(F=[new ot(Z.angle),...F])};function J(t){t.x=Q/2,t.y=W/2,t.velX=0,t.velY=0}const Q=640,W=480;let Z,_,tt,st=[],et=0;let at=4;const it={forwardKey:"",leftKey:"",rightKey:"",shootKey:""};function rt(){if(requestAnimationFrame(rt),Z.movingForward=N.ArrowUp||N[it.forwardKey],(N.ArrowRight||N[it.rightKey])&&Z.rotate(1),(N.ArrowLeft||N[it.leftKey])&&Z.rotate(-1),tt.clearRect(0,0,Q,W),f(D)<=0&&(document.body.removeEventListener("keydown",U),document.body.removeEventListener("keyup",q),Z.visible=!1,V.set(!0)),0===st.length){J(Z),D.update((t=>t+1));let t=0;for(at+=1;t<at;t++){const t=new nt;t.speed+=.25,st=[t,...st]}at>=8&&(at=4)}if(0!==st.length){let t=0;for(;t<st.length;t++)z(Z.x,Z.y,11,st[t].x,st[t].y,st[t].collisionRadius)&&(J(Z),D.update((t=>t-1)))}if(0!==st.length&&0!==F.length){let t=0;t:for(;t<st.length;t++){let s=0;for(;s<F.length;s++)if(z(F[s].x,F[s].y,3,st[t].x,st[t].y,st[t].collisionRadius)){1===st[t].level?(st.push(new nt(st[t].x-5,st[t].y-5,25,2,22,2)),st.push(new nt(st[t].x+5,st[t].y+5,25,2,22,2)),G.update((t=>t+20))):2===st[t].level&&(st.push(new nt(st[t].x-5,st[t].y-5,15,3,12,2.5)),st.push(new nt(st[t].x+5,st[t].y+5,15,3,12,2.5)),G.update((t=>t+30))),st.splice(t,1),F.splice(s,1),G.update((t=>(et=t+=15,t)));break t}}}if(Z.visible&&(Z.update(),Z.draw(),$.update((t=>(localStorage.setItem("HighScore",JSON.stringify(Math.max(et,t))),Math.max(et,t))))),0!==F.length){let t=0;for(;t<F.length;t++)F[t].update(),F[t].draw()}if(0!==st.length){let t=0;for(;t<st.length;t++)st[t].update(),st[t].draw()}}B.subscribe((t=>{it.forwardKey=t.forwardKey,it.leftKey=t.leftKey,it.rightKey=t.rightKey,it.shootKey=t.shootKey}));class ht{constructor(t,s,e,a){this.visible=!0,this.x=t,this.y=s,this.speed=e,this.angle=a}}class ot extends ht{constructor(t){super(Z.noseX,Z.noseY,5,t),this.height=4,this.width=4,this.velX=0,this.velY=0,this.radians=this.angle/Math.PI*180}update(){this.x-=Math.cos(this.radians)*this.speed,this.y-=Math.sin(this.radians)*this.speed}draw(){tt.fillStyle="#fe3637",tt.beginPath(),tt.arc(this.x,this.y,3,0,2*Math.PI,!1),tt.fill()}}const lt=(t,s)=>(Math.random()*(s-t+1)&4294967295)+t;class nt extends ht{constructor(t=lt(Q,2*Q),s=lt(W,2*W),e=50,a=1,i=46,r=1.5){super(t,s,r,lt(2,359)),this.strokeColor="white",this.radians=this.angle/Math.PI*180,this.radius=e,this.collisionRadius=i,this.level=a}update(){this.x+=Math.cos(this.radians)*this.speed,this.y+=Math.sin(this.radians)*this.speed,this.x<this.radius&&(this.x=_.width),this.x>_.width&&(this.x=this.radius),this.y<this.radius&&(this.y=_.height),this.y>_.height&&(this.y=this.radius)}draw(){tt.strokeStyle=this.strokeColor,tt.beginPath();const t=2*Math.PI/6;let s=0;for(;s<6;s++)tt.lineTo(this.x-this.radius*Math.cos(t*s+this.radians),this.y-this.radius*Math.sin(t*s+this.radians));tt.closePath(),tt.stroke()}}class ct extends ht{constructor(){super(Q/2,W/2,.04,0),this.movingForward=!1,this.velX=0,this.velY=0,this.rotateSpeed=.001,this.radius=15,this.strokeColor="#0978d2",this.noseX=Q/2+15,this.noseY=W/2}rotate(t){this.angle+=this.rotateSpeed*t}update(){const t=this.angle/Math.PI*180;this.movingForward&&(this.velX+=Math.cos(t)*this.speed,this.velY+=Math.sin(t)*this.speed),this.x<this.radius&&(this.x=_.width),this.x>_.width&&(this.x=this.radius),this.y<this.radius&&(this.y=_.height),this.y>_.height&&(this.y=this.radius),this.velX*=.99,this.velY*=.99,this.x-=this.velX,this.y-=this.velY}draw(){tt.strokeStyle=this.strokeColor,tt.beginPath();const t=2*Math.PI/3,s=this.angle/Math.PI*180;this.noseX=this.x-this.radius*Math.cos(s),this.noseY=this.y-this.radius*Math.sin(s);let e=0;for(;e<3;e++)tt.lineTo(this.x-this.radius*Math.cos(t*e+s),this.y-this.radius*Math.sin(t*e+s));tt.closePath(),tt.stroke()}}function dt(t,s,e){const a=t.slice();return a[6]=s[e],a[8]=e,a}function ut(t){let s,e,a,u,f,E,b,k,M,S,I,K,A,P,R,C,H,B,L,$,D,V,G,O,X,Y,T,j,z,N,F,U,q,J,Q,W,Z,_;return{c(){s=y("section"),e=y("div"),a=y("h2"),u=g("Play the Game"),f=p(),E=y("button"),b=i("svg"),k=i("path"),M=p(),S=y("div"),I=y("h3"),K=y("kbd"),A=g("space"),P=g(" to shoot"),R=p(),C=y("h3"),H=y("kbd"),B=g("w"),L=g(" to go forward"),$=p(),D=y("h3"),V=y("kbd"),G=g("a"),O=g(" to rotate left"),X=p(),Y=y("h3"),T=y("kbd"),j=g("d"),z=g(" to rotate right"),N=p(),F=y("p"),U=g("you can also change"),q=y("br"),J=g("\n\t\t\t\t\tthe settings of the game\n\t\t\t\t\t"),Q=y("a"),W=g("here"),this.h()},l(t){s=v(t,"SECTION",{class:!0});var i=h(s);e=v(i,"DIV",{class:!0});var l=h(e);a=v(l,"H2",{class:!0});var n=h(a);u=m(n,"Play the Game"),n.forEach(o),f=x(l),E=v(l,"BUTTON",{});var c=h(E);b=r(c,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var d=h(b);k=r(d,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),h(k).forEach(o),d.forEach(o),c.forEach(o),l.forEach(o),M=x(i),S=v(i,"DIV",{class:!0});var y=h(S);I=v(y,"H3",{});var g=h(I);K=v(g,"KBD",{class:!0});var p=h(K);A=m(p,"space"),p.forEach(o),P=m(g," to shoot"),g.forEach(o),R=x(y),C=v(y,"H3",{});var w=h(C);H=v(w,"KBD",{class:!0});var Z=h(H);B=m(Z,"w"),Z.forEach(o),L=m(w," to go forward"),w.forEach(o),$=x(y),D=v(y,"H3",{});var _=h(D);V=v(_,"KBD",{class:!0});var tt=h(V);G=m(tt,"a"),tt.forEach(o),O=m(_," to rotate left"),_.forEach(o),X=x(y),Y=v(y,"H3",{});var st=h(Y);T=v(st,"KBD",{class:!0});var et=h(T);j=m(et,"d"),et.forEach(o),z=m(st," to rotate right"),st.forEach(o),N=x(y),F=v(y,"P",{class:!0});var at=h(F);U=m(at,"you can also change"),q=v(at,"BR",{}),J=m(at,"\n\t\t\t\t\tthe settings of the game\n\t\t\t\t\t"),Q=v(at,"A",{class:!0,href:!0});var it=h(Q);W=m(it,"here"),it.forEach(o),at.forEach(o),y.forEach(o),i.forEach(o),this.h()},h(){l(a,"class","mb-5 text-xl"),l(k,"fill-rule","evenodd"),l(k,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),l(k,"clip-rule","evenodd"),l(b,"xmlns","http://www.w3.org/2000/svg"),l(b,"class","transition-color h-20 w-20 duration-300 hover:text-primary"),l(b,"viewBox","0 0 20 20"),l(b,"fill","currentColor"),l(e,"class","flex flex-col items-center"),l(K,"class","kbd"),l(H,"class","kbd"),l(V,"class","kbd"),l(T,"class","kbd"),l(Q,"class","link decoration-wavy hover:text-primary"),l(Q,"href","/config"),l(F,"class","text-sm"),l(S,"class","row-span-2 space-y-2"),l(s,"class","absolute inset-0 grid grid-rows-3 place-items-center")},m(i,r){n(i,s,r),c(s,e),c(e,a),c(a,u),c(e,f),c(e,E),c(E,b),c(b,k),c(s,M),c(s,S),c(S,I),c(I,K),c(K,A),c(I,P),c(S,R),c(S,C),c(C,H),c(H,B),c(C,L),c(S,$),c(S,D),c(D,V),c(V,G),c(D,O),c(S,X),c(S,Y),c(Y,T),c(T,j),c(Y,z),c(S,N),c(S,F),c(F,U),c(F,q),c(F,J),c(F,Q),c(Q,W),Z||(_=w(E,"click",t[5]),Z=!0)},p:d,d(t){t&&o(s),Z=!1,_()}}}function ft(t){let s,e,a;return{c(){s=y("div"),e=y("span"),a=g("GAME OVER"),this.h()},l(t){s=v(t,"DIV",{class:!0});var i=h(s);e=v(i,"SPAN",{class:!0});var r=h(e);a=m(r,"GAME OVER"),r.forEach(o),i.forEach(o),this.h()},h(){l(e,"class","text-3xl text-primary"),l(s,"class","absolute top-1/2 left-1/2 -translate-x-1/2 transform")},m(t,i){n(t,s,i),c(s,e),c(e,a)},d(t){t&&o(s)}}}function yt(t){let s,e,a,i=[],r=new Map,c=Array(t[4]);const d=t=>t[8];for(let h=0;h<c.length;h+=1){let s=dt(t,c,h),e=d(s);r.set(e,i[h]=gt(e))}return{c(){s=y("ul");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){s=v(t,"UL",{class:!0});var e=h(s);for(let s=0;s<i.length;s+=1)i[s].l(e);e.forEach(o),this.h()},h(){l(s,"class","rounded-box inline-flex bg-neutral py-3 px-5")},m(t,e){n(t,s,e);for(let a=0;a<i.length;a+=1)i[a].m(s,null);a=!0},p(t,e){16&e&&(c=Array(t[4]),C(),i=E(i,e,d,1,t,c,r,s,H,gt,null,dt),b())},i(t){if(!a){for(let t=0;t<c.length;t+=1)k(i[t]);e&&e.end(1),a=!0}},o(t){for(let s=0;s<i.length;s+=1)M(i[s]);e=u(s,X,{duration:1e3}),a=!1},d(t){t&&o(s);for(let s=0;s<i.length;s+=1)i[s].d();t&&e&&e.end()}}}function gt(t,s){let e,a,i,r;return a=new j({}),{key:t,first:null,c(){e=y("li"),K(a.$$.fragment),i=p(),this.h()},l(t){e=v(t,"LI",{});var s=h(e);A(a.$$.fragment,s),i=x(s),s.forEach(o),this.h()},h(){this.first=e},m(t,s){n(t,e,s),P(a,e,null),c(e,i),r=!0},p(t,s){},i(t){r||(k(a.$$.fragment,t),r=!0)},o(t){M(a.$$.fragment,t),r=!1},d(t){t&&o(e),R(a)}}}function pt(t){let s,e,a,i,r,d,u,f,w,E,I,K,A,P,R,H,B,L,$,D=!t[2]&&ut(t),V=t[3]&&ft(),G=t[4]>0&&yt(t);return{c(){s=y("div"),e=y("h2"),a=g("SCORE: "),i=g(t[0]),r=p(),d=y("h2"),u=g("HIGHSCORE: "),f=g(t[1]),w=p(),E=y("div"),D&&D.c(),I=p(),V&&V.c(),K=p(),A=y("canvas"),P=p(),R=y("div"),H=y("a"),B=g("RESET GAME"),L=p(),G&&G.c(),this.h()},l(l){s=v(l,"DIV",{class:!0});var n=h(s);e=v(n,"H2",{});var c=h(e);a=m(c,"SCORE: "),i=m(c,t[0]),c.forEach(o),r=x(n),d=v(n,"H2",{});var y=h(d);u=m(y,"HIGHSCORE: "),f=m(y,t[1]),y.forEach(o),n.forEach(o),w=x(l),E=v(l,"DIV",{class:!0});var g=h(E);D&&D.l(g),I=x(g),V&&V.l(g),K=x(g),A=v(g,"CANVAS",{class:!0,height:!0,width:!0,id:!0}),h(A).forEach(o),g.forEach(o),P=x(l),R=v(l,"DIV",{class:!0});var p=h(R);H=v(p,"A",{class:!0,"sveltekit:reload":!0,href:!0});var b=h(H);B=m(b,"RESET GAME"),b.forEach(o),L=x(p),G&&G.l(p),p.forEach(o),this.h()},h(){l(s,"class","my-2 inline-flex w-full justify-between text-lg"),l(A,"class","rounded-box border-2 border-primary bg-neutral shadow-md shadow-red-600/50"),l(A,"height","460"),l(A,"width","640"),l(A,"id","game"),l(E,"class","relative"),l(H,"class","btn border-2 border-primary"),l(H,"sveltekit:reload",""),l(H,"href","/"),l(R,"class","my-5 inline-flex w-full items-center justify-between")},m(t,h){n(t,s,h),c(s,e),c(e,a),c(e,i),c(s,r),c(s,d),c(d,u),c(d,f),n(t,w,h),n(t,E,h),D&&D.m(E,null),c(E,I),V&&V.m(E,null),c(E,K),c(E,A),n(t,P,h),n(t,R,h),c(R,H),c(H,B),c(R,L),G&&G.m(R,null),$=!0},p(t,[s]){(!$||1&s)&&S(i,t[0]),(!$||2&s)&&S(f,t[1]),t[2]?D&&(D.d(1),D=null):D?D.p(t,s):(D=ut(t),D.c(),D.m(E,I)),t[3]?V||(V=ft(),V.c(),V.m(E,K)):V&&(V.d(1),V=null),t[4]>0?G?(G.p(t,s),16&s&&k(G,1)):(G=yt(t),G.c(),k(G,1),G.m(R,null)):G&&(C(),M(G,1,1,(()=>{G=null})),b())},i(t){$||(k(G),$=!0)},o(t){M(G),$=!1},d(t){t&&o(s),t&&o(w),t&&o(E),D&&D.d(),V&&V.d(),t&&o(P),t&&o(R),G&&G.d()}}}function vt(t,s,e){let a,i,r,h,o;I(t,G,(t=>e(0,a=t))),I(t,$,(t=>e(1,i=t))),I(t,L,(t=>e(2,r=t))),I(t,V,(t=>e(3,h=t))),I(t,D,(t=>e(4,o=t)));return[a,i,r,h,o,()=>function(){_=document.getElementById("game"),tt=_.getContext("2d"),L.set(!0),Z=new ct;let t=0;for(;t<at;t++)st=[new nt,...st];document.body.addEventListener("keydown",U),document.body.addEventListener("keyup",q),localStorage.getItem("HighScore")?$.set(parseInt(localStorage.getItem("HighScore"))):$.set(0),rt()}()]}class mt extends s{constructor(t){super(),e(this,t,vt,pt,a,{})}}export{mt as default};
