import{K as Rt,S as yt,i as _t,s as xt,L as _,M as x,a as p,d as o,b as v,g as O,G as d,E as It,N as Lt,O as Pt,e as L,t as D,c as P,h as q,P as Gt,p as wt,q as T,Q as Ot,o as Z,R as ht,k as B,m as F,T as Xt,j as ct,U as Q,w as Yt,x as Ht,y as Vt,B as $t,n as Et,V as Dt}from"../chunks/index-8d7aee1e.js";import{w as et}from"../chunks/index-9616d577.js";function qt(e){const t=e-1;return t*t*t+1}function ut(e,{delay:t=0,duration:s=400,easing:i=Rt}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:i,css:h=>`opacity: ${h*r}`}}function Bt(e,{delay:t=0,duration:s=400,easing:i=qt,x:r=0,y:h=0,opacity:a=0}={}){const u=getComputedStyle(e),l=+u.opacity,f=u.transform==="none"?"":u.transform,g=l*(1-a);return{delay:t,duration:s,easing:i,css:(A,w)=>`
			transform: ${f} translate(${(1-A)*r}px, ${(1-A)*h}px);
			opacity: ${l-g*w}`}}function Ft(e){let t,s,i,r,h,a,u,l,f,g,A,w,G,E,S,Y,H,C,V;return{c(){t=_("svg"),s=_("path"),i=_("g"),r=_("g"),h=_("g"),a=_("g"),u=_("g"),l=_("g"),f=_("g"),g=_("g"),A=_("g"),w=_("g"),G=_("g"),E=_("g"),S=_("g"),Y=_("g"),H=_("g"),this.h()},l(R){t=x(R,"svg",{class:!0,version:!0,id:!0,xmlns:!0,x:!0,y:!0,viewBox:!0,"xml:space":!0});var n=p(t);s=x(n,"path",{d:!0}),p(s).forEach(o),i=x(n,"g",{}),p(i).forEach(o),r=x(n,"g",{}),p(r).forEach(o),h=x(n,"g",{}),p(h).forEach(o),a=x(n,"g",{}),p(a).forEach(o),u=x(n,"g",{}),p(u).forEach(o),l=x(n,"g",{}),p(l).forEach(o),f=x(n,"g",{}),p(f).forEach(o),g=x(n,"g",{}),p(g).forEach(o),A=x(n,"g",{}),p(A).forEach(o),w=x(n,"g",{}),p(w).forEach(o),G=x(n,"g",{}),p(G).forEach(o),E=x(n,"g",{}),p(E).forEach(o),S=x(n,"g",{}),p(S).forEach(o),Y=x(n,"g",{}),p(Y).forEach(o),H=x(n,"g",{}),p(H).forEach(o),n.forEach(o),this.h()},h(){v(s,"d",`M204.459,21.359c-28.008-28.008-73.58-28.008-101.588,0C84.726,39.505,78.352,65.021,83.719,88.359L2.197,169.881
	c-2.929,2.93-2.929,7.678,0,10.607c1.465,1.464,3.385,2.196,5.304,2.196s3.839-0.732,5.304-2.196l48.405-48.405l14.721,6.491
	l-27.772,27.772c-2.929,2.93-2.929,7.678,0,10.607c1.465,1.464,3.385,2.196,5.304,2.196s3.839-0.732,5.304-2.196l27.908-27.908
	l6.622,14.59l-48.672,48.672c-2.929,2.93-2.929,7.678,0,10.607c1.465,1.464,3.385,2.196,5.304,2.196s3.839-0.732,5.304-2.196
	l81.079-81.079c5.692,1.408,11.523,2.117,17.356,2.117c18.395,0,36.79-7.002,50.794-21.006
	C232.467,94.94,232.467,49.367,204.459,21.359z M104.625,152.306l-5.558-12.246c-2.808-6.188-7.778-11.106-13.998-13.849
	l-12.484-5.504l16.708-16.708c3.378,6.842,7.89,13.262,13.577,18.949c5.425,5.425,11.514,9.786,18.002,13.11L104.625,152.306z
	 M184.897,103.383L184.897,103.383c-8.343,8.343-19.434,12.937-31.231,12.937s-22.889-4.594-31.23-12.937
	c-17.22-17.22-17.22-45.24,0-62.461c8.342-8.342,19.433-12.936,31.23-12.936s22.889,4.594,31.231,12.936
	C202.115,58.143,202.115,86.163,184.897,103.383z M174.289,51.528c11.372,11.373,11.372,29.877,0,41.248
	c-5.509,5.51-12.833,8.543-20.624,8.543s-15.115-3.033-20.623-8.543c-11.372-11.372-11.372-29.875,0-41.248
	c5.508-5.509,12.832-8.542,20.623-8.542S168.781,46.02,174.289,51.528z`),v(t,"class","h-8 w-8 fill-secondary"),v(t,"version","1.1"),v(t,"id","Capa_1"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"x","0px"),v(t,"y","0px"),v(t,"viewBox","0 0 225.465 225.465"),v(t,"xml:space","preserve")},m(R,n){O(R,t,n),d(t,s),d(t,i),d(t,r),d(t,h),d(t,a),d(t,u),d(t,l),d(t,f),d(t,g),d(t,A),d(t,w),d(t,G),d(t,E),d(t,S),d(t,Y),d(t,H),V=!0},p:It,i(R){V||(C&&C.end(1),V=!0)},o(R){C=Lt(t,Bt,{y:-20,opacity:0,duration:700}),V=!1},d(R){R&&o(t),R&&C&&C.end()}}}class Nt extends yt{constructor(t){super(),_t(this,t,null,Ft,xt,{})}}function ft(e,t,s,i,r,h){const a=s+h,u=e-i,l=t-r;return a>Math.sqrt(u*u+l*l)}const W=et(0),tt=et(0),$=[];let I=[];const bt=e=>{$[e.key]=!0},kt=e=>{$[e.key]=!1,e.key===Mt.shoot&&(I=[new zt(k.angle),...I])};function dt(e){e.x=z/2,e.y=U/2,e.velX=0,e.velY=0}const z=640,U=480;var Mt=(e=>(e.up="ArrowUp",e.left="ArrowLeft",e.right="ArrowRight",e.shoot="s",e))(Mt||{});let k,X,M,rt=0;const lt="HighScore",St=4,K=et(3);let c=[];const At=et(!1),at=(e,t)=>(Math.random()*(t-e+1)&4294967295)+e;function Ct(){if(requestAnimationFrame(Ct),k.movingForward=$.ArrowUp||$.w,($.ArrowRight||$.d)&&k.rotate(1),($.ArrowLeft||$.a)&&k.rotate(-1),M.clearRect(0,0,z,U),Pt(K)<=0&&(document.body.removeEventListener("keydown",bt),document.body.removeEventListener("keyup",kt),k.visible=!1,At.set(!0)),c.length===0){dt(k),K.update(t=>t+=1);let e=0;for(e;e<St;e++){const t=new N;t.speed+=.25,c=[t,...c]}}if(c.length!==0){let e=0;for(e;e<c.length;e++)ft(k.x,k.y,11,c[e].x,c[e].y,c[e].collisionRadius)&&(dt(k),K.update(t=>t-=1))}if(c.length!==0&&I.length!==0){let e=0;t:for(e;e<c.length;e++){let t=0;for(t;t<I.length;t++)if(ft(I[t].x,I[t].y,3,c[e].x,c[e].y,c[e].collisionRadius)){c[e].level===1?(c.push(new N(c[e].x-5,c[e].y-5,25,2,22,2)),c.push(new N(c[e].x+5,c[e].y+5,25,2,22,2)),W.update(s=>s+=20)):c[e].level===2&&(c.push(new N(c[e].x-5,c[e].y-5,15,3,12,2.5)),c.push(new N(c[e].x+5,c[e].y+5,15,3,12,2.5)),W.update(s=>s+=30)),c.splice(e,1),I.splice(t,1),W.update(s=>(s+=15,rt=s,s));break t}}}if(k.visible&&(k.update(),k.draw(),tt.update(e=>(localStorage.setItem(lt,JSON.stringify(Math.max(rt,e))),Math.max(rt,e)))),I.length!==0){let e=0;for(e;e<I.length;e++)I[e].update(),I[e].draw()}if(c.length!==0){let e=0;for(e;e<c.length;e++)c[e].update(),c[e].draw()}}function Tt(e){M=e.getContext("2d",{willReadFrequently:!0}),X=e,k=new Ut;let t=0;for(t;t<St;t++)c=[new N,...c];document.body.addEventListener("keydown",bt),document.body.addEventListener("keyup",kt),localStorage.getItem(lt)?tt.set(parseInt(localStorage.getItem(lt))):tt.set(0),Ct()}class ot{constructor(t,s,i,r){this.visible=!0,this.x=t,this.y=s,this.speed=i,this.angle=r}}class zt extends ot{constructor(t){super(k.noseX,k.noseY,5,t),this.height=4,this.width=4,this.velX=0,this.velY=0,this.radians=this.angle/Math.PI*180}update(){this.x-=Math.cos(this.radians)*this.speed,this.y-=Math.sin(this.radians)*this.speed}draw(){M.fillStyle="#fe3637",M.fillRect(this.x,this.y,this.width,this.height)}}class N extends ot{constructor(t=at(100,z),s=at(100,U),i=50,r=1,h=46,a=1.5){super(t,s,a,at(2,359)),this.strokeColor="white",this.radians=this.angle/Math.PI*180,this.radius=i,this.collisionRadius=h,this.level=r}update(){this.x+=Math.cos(this.radians)*this.speed,this.y+=Math.sin(this.radians)*this.speed,this.x<this.radius&&(this.x=X.width),this.x>X.width&&(this.x=this.radius),this.y<this.radius&&(this.y=X.height),this.y>X.height&&(this.y=this.radius)}draw(){M.strokeStyle=this.strokeColor,M.beginPath();const t=Math.PI*2/6;let s=0;for(s;s<6;s++)M.lineTo(this.x-this.radius*Math.cos(t*s+this.radians),this.y-this.radius*Math.sin(t*s+this.radians));M.closePath(),M.stroke()}}class Ut extends ot{constructor(){super(z/2,U/2,.04,0),this.movingForward=!1,this.velX=0,this.velY=0,this.rotateSpeed=.001,this.radius=15,this.strokeColor="#0978d2",this.noseX=z/2+15,this.noseY=U/2}rotate(t){this.angle+=this.rotateSpeed*t}update(){const t=this.angle/Math.PI*180;this.movingForward&&(this.velX+=Math.cos(t)*this.speed,this.velY+=Math.sin(t)*this.speed),this.x<this.radius&&(this.x=X.width),this.x>X.width&&(this.x=this.radius),this.y<this.radius&&(this.y=X.height),this.y>X.height&&(this.y=this.radius),this.velX*=.99,this.velY*=.99,this.x-=this.velX,this.y-=this.velY}draw(){M.strokeStyle=this.strokeColor,M.beginPath();const t=Math.PI*2/3,s=this.angle/Math.PI*180;this.noseX=this.x-this.radius*Math.cos(s),this.noseY=this.y-this.radius*Math.sin(s);let i=0;for(i;i<3;i++)M.lineTo(this.x-this.radius*Math.cos(t*i+s),this.y-this.radius*Math.sin(t*i+s));M.closePath(),M.stroke()}}function gt(e,t,s){const i=e.slice();return i[4]=t[s],i[6]=s,i}function pt(e){let t,s,i;return{c(){t=L("div"),s=L("span"),i=D("GAME OVER"),this.h()},l(r){t=P(r,"DIV",{class:!0});var h=p(t);s=P(h,"SPAN",{class:!0});var a=p(s);i=q(a,"GAME OVER"),a.forEach(o),h.forEach(o),this.h()},h(){v(s,"class","text-3xl text-primary"),v(t,"class","absolute top-1/2 left-1/2 transform -translate-x-1/2")},m(r,h){O(r,t,h),d(t,s),d(s,i)},d(r){r&&o(t)}}}function mt(e){let t,s=[],i=new Map,r,h,a=Array(e[3]);const u=l=>l[6];for(let l=0;l<a.length;l+=1){let f=gt(e,a,l),g=u(f);i.set(g,s[l]=vt(g))}return{c(){t=L("ul");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){t=P(l,"UL",{class:!0});var f=p(t);for(let g=0;g<s.length;g+=1)s[g].l(f);f.forEach(o),this.h()},h(){v(t,"class","inline-flex py-3 px-5 rounded-box bg-neutral")},m(l,f){O(l,t,f);for(let g=0;g<s.length;g+=1)s[g].m(t,null);h=!0},p(l,f){f&8&&(a=Array(l[3]),Et(),s=Gt(s,f,u,1,l,a,i,t,Dt,vt,null,gt),wt())},i(l){if(!h){for(let f=0;f<a.length;f+=1)T(s[f]);Ot(()=>{r||(r=ht(t,ut,{duration:1e3},!0)),r.run(1)}),h=!0}},o(l){for(let f=0;f<s.length;f+=1)Z(s[f]);r||(r=ht(t,ut,{duration:1e3},!1)),r.run(0),h=!1},d(l){l&&o(t);for(let f=0;f<s.length;f+=1)s[f].d();l&&r&&r.end()}}}function vt(e,t){let s,i,r,h;return i=new Nt({}),{key:e,first:null,c(){s=L("li"),Yt(i.$$.fragment),r=B(),this.h()},l(a){s=P(a,"LI",{});var u=p(s);Ht(i.$$.fragment,u),r=F(u),u.forEach(o),this.h()},h(){this.first=s},m(a,u){O(a,s,u),Vt(i,s,null),d(s,r),h=!0},p(a,u){},i(a){h||(T(i.$$.fragment,a),h=!0)},o(a){Z(i.$$.fragment,a),h=!1},d(a){a&&o(s),$t(i)}}}function jt(e){let t,s,i,r,h,a,u,l,f,g,A,w,G,E,S,Y,H,C,V,R,n=e[2]&&pt(),y=e[3]>0&&mt(e);return{c(){t=L("div"),s=L("h2"),i=D("SCORE: "),r=D(e[0]),h=B(),a=L("h2"),u=D("HIGHSCORE: "),l=D(e[1]),f=B(),g=L("div"),n&&n.c(),A=B(),w=L("canvas"),G=B(),E=L("div"),S=L("a"),Y=D("RESET GAME"),H=B(),y&&y.c(),this.h()},l(m){t=P(m,"DIV",{class:!0});var b=p(t);s=P(b,"H2",{});var st=p(s);i=q(st,"SCORE: "),r=q(st,e[0]),st.forEach(o),h=F(b),a=P(b,"H2",{});var it=p(a);u=q(it,"HIGHSCORE: "),l=q(it,e[1]),it.forEach(o),b.forEach(o),f=F(m),g=P(m,"DIV",{class:!0});var j=p(g);n&&n.l(j),A=F(j),w=P(j,"CANVAS",{class:!0,height:!0,width:!0,id:!0}),p(w).forEach(o),j.forEach(o),G=F(m),E=P(m,"DIV",{class:!0});var J=p(E);S=P(J,"A",{class:!0,"sveltekit:reload":!0,href:!0});var nt=p(S);Y=q(nt,"RESET GAME"),nt.forEach(o),H=F(J),y&&y.l(J),J.forEach(o),this.h()},h(){v(t,"class","inline-flex justify-between w-full text-lg my-2"),v(w,"class","border-2 border-primary bg-neutral rounded-box shadow-md shadow-red-600/50"),v(w,"height","460"),v(w,"width","640"),v(w,"id","game"),v(g,"class","relative"),v(S,"class","btn border-2 border-primary"),v(S,"sveltekit:reload",""),v(S,"href","/"),v(E,"class","inline-flex justify-between items-center w-full my-5")},m(m,b){O(m,t,b),d(t,s),d(s,i),d(s,r),d(t,h),d(t,a),d(a,u),d(a,l),O(m,f,b),O(m,g,b),n&&n.m(g,null),d(g,A),d(g,w),O(m,G,b),O(m,E,b),d(E,S),d(S,Y),d(E,H),y&&y.m(E,null),C=!0,V||(R=Xt(Tt.call(null,w)),V=!0)},p(m,[b]){(!C||b&1)&&ct(r,m[0]),(!C||b&2)&&ct(l,m[1]),m[2]?n||(n=pt(),n.c(),n.m(g,A)):n&&(n.d(1),n=null),m[3]>0?y?(y.p(m,b),b&8&&T(y,1)):(y=mt(m),y.c(),T(y,1),y.m(E,null)):y&&(Et(),Z(y,1,1,()=>{y=null}),wt())},i(m){C||(T(y),C=!0)},o(m){Z(y),C=!1},d(m){m&&o(t),m&&o(f),m&&o(g),n&&n.d(),m&&o(G),m&&o(E),y&&y.d(),V=!1,R()}}}function Jt(e,t,s){let i,r,h,a;return Q(e,W,u=>s(0,i=u)),Q(e,tt,u=>s(1,r=u)),Q(e,At,u=>s(2,h=u)),Q(e,K,u=>s(3,a=u)),[i,r,h,a]}class Kt extends yt{constructor(t){super(),_t(this,t,Jt,jt,xt,{})}}export{Kt as default};
